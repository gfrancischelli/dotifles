const keystone = require('keystone'),
      Types = keystone.Field.Types;


const Task = new keystone.List('Task', {
    map: { name: 'title' },
    autokey: { path: 'slug', from: 'title', unique: true },
});


Task.add({
   title: { type: String, initial: true,  default: '', required: true },
   description: { type: Types.Textarea },
   author: { type: Types.Relationship, ref: 'User', index: true, many: false },
   status: { type: Types.Select, options: 'pending, done', index: true },
   createdAt: { type: Types.Datetime, default: Date.now, },
   updatedAt: { type: Types.Datetime, default: Date.now, }
});

Task.defaultSort = '-createdAt';

Task.register();
